EABmfForex - Lista de tarefas

========== Tarefas em andamento ==========



========== Novas tarefas ==========

#5 - Corrigir problema com invalid stops
     Para corrigir os erros de invalid stop, estudar a fundo este artigo: "https://www.mql5.com/pt/articles/2555". Neste artigo há dicas valiosas de verificação do ativo antes de permitir operar com o mesmo. Estas verificações complementam
     as verificações da conta.
     
#7 - Implementar o sinal de negociação MACD
     A partir dos estudos feitos sobre o indicador MACD, implementar os sinais de negociação desse indicador. Analisar os seguintes pontos de compra/venda e ver qual possui melhor desempenho nos pares USD, EUR, CHF, GBP, AUS, CAD e NZD:
     * Linha de sinal (9 períodos) ultrapassa a linha MACD;
     * Quando a linha de sinal (9 períodos) se afasta dos histogramas;
     * Quando a linha de sinal começa a reverter sua direção.
     Avaliar também um sinal composto por duas ou todas as opções indicadas acima, e também usar a convergência/divergência como sinal de confirmação e/ou sinal de negociação.   
     
#8 - Separar as lógicas de nova abertura, trailing stop e checagem de prejuízo
     Atualmente as lógicas para abertura de novas posições, efetuar o trailing stop, e a verificação do prejuízo acumulado estão todas misturadas dentro do mesmo if no método OnTick(). Separar essas lógicas de modo que as três possam
     trabalhar de forma harmônica, sem poluir muito o código.
     
#9 - Separar a lógica de nova abertura de posições
     Baseado nas informações da tarefa #8, colocar a lógica de abertura de posições (verificação de barra, sinal a confirmar) a parte.
     
#10 - Separar a lógica de trailing stop
      Baseado nas informações da tarefa #8, colocar a lógica de trailing stop separada do método OnTick().
      
#11 - Separar a lógica de cálculo de lucro/prejuízo
      Baseado nas informações da tarefa #8, colocar a lógica de verificação de lucro/prejuízo separa do método OnTick().      
      
#12 - Estudo de artigo
      Estudar o artigo "https://www.mql5.com/pt/articles/2555" para poder fazer as verificações necessárias ao realizar um trailing stop.
      
#13 - BUG - abrindo mais de uma posição para o mesmo símbolo
      Analisar o código de verificação de posições e de fechamento porque o EA está permitindo abrir mais de uma posição para o mesmo ativo, tanto de compra quanto de venda.
      
#16 - Envio de notificações via push
      Usar o recurso de notificação via push descrito na seguinte página do manual: "https://www.mql5.com/pt/docs/network/sendnotification". Realizar a notificação push somente de itens que são realmente importantes, como lucro e prejuízo
      máximos atingidos. As informações mais importantes para enviar via push são informações sobre o saldo da conta quando uma posição aberta está preste a zerá-la.
      
#17 - Delay de acordo com o status do ping do terminal
      Usar as informações contidas nesta página do manual ("https://www.mql5.com/pt/docs/constants/environment_state/terminalstatus") para poder gerar o delay entre as negociações de acordo com o delay do terminal com o servidor de
      negocição da corretora. Assim, o delay fica de acordo com a qualidade da rede a qual o terminal está conectado.
      
#18 -       
      

========== Tarefas concluídas ==========

v1.02:

#4 - Testar o EA em todas as contas abertas
     Fazer um teste de execução do EA em todas as contas MetaTrader abertas (Clear, ModalMais, XM, Pepperstone e ICMarkets), e identificar quais ajustes adicionais precisam ser realizados para o EA ser o mais compatível possível pelo menos
     para as contas que foram abertas.
     Solução adotada: foi escolhido os ativos AUDUSD (Forex) e WINM19 (BM&FBovespa), para o período de 01/05/2019 até 31/05/2019, latência aleatória para cada tick, saldo de $ 10.000 e usando as configurações de parâmetros já constantes no
     projeto. Tirando o problema com o invalid stop, todos os ajustes necessários foram realizados e constarão na versão 1.02.

#6 - Operar em mais de um gráfico
     Testar e validar a execução do EA em mais de um gráfico, fazendo todos os ajustes necessários para não haver equívocos no fechamento das ordens.     
     
#14 - Introduzir delay entre negociações
      Introduzir um delay entre os envios de ordem de compra e venda, a fim de diminuir a possibilidade de abertura de uma posição sem antes a anterior ter sido fechada.     
      
#15 - Dupla verificação ao abrir novas ordens
      Ao solicitar o fechamento das posições, verificar depois de um certo delay se ainda existe posições abertas. Pode ter ocorrido um erro na operação anterior e se não for verificado uma nova ordem é aberta sem necessidade.      

v1.01:

#1 - Parametrizar o timeframe do método temNovaBarra()
     Atualmente o método está com um timeframe fixo de M1. Parametrizar este timeframes de modo a poder escolher um mais adequado para o gráfico selecionado.
     Colocar o enum de períodos para o usuário poder selecionar.
     
#2 - Encapsulamento de estratégias
     Encapsular a lógica contida no método sinalNegociacao() em um método em particular, ou até mesmo em uma classe no arquivo HStrategy, e também implementar os sinais de mudança de tendência da MA longa e encapsular em HStrategy. Incluir
     um parâmetro no EA para poder escolher qual estratégia será usada para aquele ativo.     
     
#3 - Obter dinamicamente o tipo de preenchimento da ordem
     Na Bovespa BM&F e no servidor Forex da MetaQuote o ORDER_FILLING_FOK funciona sem problemas. Já na XM, Pepperstore e ICMarkets só aceita o ORDER_FILLING_IOC. Tentar detectar automaticamente o tipo de preenchimento para evitar criar
     mais um parâmetro no EA.
     Solução adotada: incluir um novo parâmetro, pois a mensagem de erro é registrada direto no diário de log do terminal pois é um erro de execução enviado pelo servidor, e não pelo terminal. Para pegar detalhes sobre esse erro preciso
                      abrir o diário e ver qual foi a última mensagem de falha. É impraticável quando tem vários EAs rodando em gráficos diferentes.     